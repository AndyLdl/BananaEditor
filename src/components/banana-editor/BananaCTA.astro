---
/**
 * Z-Image Studio CTA组件
 * 引导用户开始使用编辑器
 */

import { Icon } from "astro-icon/components";
import BananaButton from "@components/ui/BananaButton.astro";
import { loadTranslations, createTranslator } from "../../i18n/utils";

// 获取当前语言
import { detectLanguageFromRequest } from "../../utils/language-detector";
const currentLang = detectLanguageFromRequest(Astro.request);

// 加载翻译
const homeTranslations = await loadTranslations(currentLang, "home");
const t = createTranslator(currentLang, homeTranslations);
---

<section class="relative py-16 sm:py-20 md:py-24 overflow-hidden bg-z-bg">
  <!-- 网格背景 -->
  <div
    class="absolute inset-0 bg-[url('/images/grid-pattern.svg')] opacity-[0.03] pointer-events-none">
  </div>

  <div class="relative mx-auto max-w-5xl px-6 lg:px-8 text-center z-10">
    <!-- 徽章 -->
    <div
      class="inline-flex items-center gap-2 px-4 py-2 bg-white/5 backdrop-blur-sm rounded-full text-white font-medium text-sm mb-6 shadow-sm border border-white/10">
      <Icon name="heroicons:sparkles" class="w-4 h-4 text-gray-400" />
      <span>Start Creating Today</span>
    </div>

    <!-- 主标题 -->
    <h2
      class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4 leading-tight">
      {t("cta.title")}
    </h2>

    <!-- 副标题 -->
    <p class="text-lg sm:text-xl text-white/90 mb-4 font-medium">
      {t("cta.subtitle")}
    </p>

    <!-- 描述 -->
    <p
      class="text-base sm:text-lg text-gray-400 mb-8 max-w-2xl mx-auto leading-relaxed">
      {t("cta.description")}
    </p>

    <!-- CTA按钮 -->
    <div class="mb-8">
      <a
        href="/#hero"
        class="group/cta relative inline-flex items-center gap-3 px-8 py-4 bg-banana-gradient text-white font-bold text-base rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 overflow-hidden">
        <!-- 背景光效 -->
        <div
          class="absolute inset-0 bg-gradient-to-r from-banana-primary via-banana-secondary to-banana-primary bg-[length:200%_auto] animate-gradient-flow opacity-0 group-hover/cta:opacity-100 transition-opacity duration-300">
        </div>

        <!-- 内容 -->
        <Icon
          name="heroicons:rocket-launch"
          class="w-5 h-5 relative z-10 group-hover/cta:animate-bounce"
        />
        <span class="relative z-10">{t("cta.button")}</span>
        <Icon
          name="heroicons:arrow-right"
          class="w-5 h-5 relative z-10 group-hover/cta:translate-x-1 transition-transform"
        />
      </a>
    </div>

    <!-- 注释信息 -->
    <p class="text-gray-400 text-sm font-medium mb-12">
      {t("cta.note")}
    </p>

    <!-- 统计信息 - 卡片化设计 -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 lg:gap-6 mb-12">
      <div
        class="group relative bg-z-surface backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300 hover:shadow-lg hover:-translate-y-1 overflow-hidden">
        <div class="relative z-10">
          <div
            class="text-3xl sm:text-4xl lg:text-5xl font-black text-white mb-2 group-hover:scale-105 transition-transform duration-300">
            10K+
          </div>
          <div class="text-gray-400 text-sm font-semibold">Active Users</div>
        </div>
      </div>
      <div
        class="group relative bg-z-surface backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300 hover:shadow-lg hover:-translate-y-1 overflow-hidden">
        <div class="relative z-10">
          <div
            class="text-3xl sm:text-4xl lg:text-5xl font-black text-white mb-2 group-hover:scale-105 transition-transform duration-300">
            1M+
          </div>
          <div class="text-gray-400 text-sm font-semibold">
            Images Generated
          </div>
        </div>
      </div>
      <div
        class="group relative bg-z-surface backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300 hover:shadow-lg hover:-translate-y-1 overflow-hidden">
        <div class="relative z-10">
          <div
            class="text-3xl sm:text-4xl lg:text-5xl font-black text-white mb-2 group-hover:scale-105 transition-transform duration-300">
            99.9%
          </div>
          <div class="text-gray-400 text-sm font-semibold">Uptime</div>
        </div>
      </div>
    </div>

    <!-- 特性徽章 - 增强设计 -->
    <div class="flex flex-wrap gap-3 justify-center">
      <div
        class="group/badge relative inline-flex items-center gap-2 px-4 py-2.5 bg-z-surface backdrop-blur-sm rounded-lg text-white text-sm font-medium border border-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105 hover:shadow-md overflow-hidden">
        <Icon
          name="heroicons:shield-check"
          class="w-4 h-4 relative z-10 group-hover/badge:scale-110 transition-transform text-gray-400"
        />
        <span class="relative z-10">Secure & Private</span>
      </div>
      <div
        class="group/badge relative inline-flex items-center gap-2 px-4 py-2.5 bg-z-surface backdrop-blur-sm rounded-lg text-white text-sm font-medium border border-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105 hover:shadow-md overflow-hidden">
        <Icon
          name="heroicons:bolt"
          class="w-4 h-4 relative z-10 group-hover/badge:scale-110 transition-transform text-gray-400"
        />
        <span class="relative z-10">Lightning Fast</span>
      </div>
      <div
        class="group/badge relative inline-flex items-center gap-2 px-4 py-2.5 bg-z-surface backdrop-blur-sm rounded-lg text-white text-sm font-medium border border-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105 hover:shadow-md overflow-hidden">
        <Icon
          name="heroicons:globe-alt"
          class="w-4 h-4 relative z-10 group-hover/badge:scale-110 transition-transform text-gray-400"
        />
        <span class="relative z-10">Multi-language</span>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes float {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(10deg);
    }
  }

  @keyframes float-delayed {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-25px) rotate(-10deg);
    }
  }

  @keyframes float-slow {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-15px) rotate(5deg);
    }
  }

  @keyframes gradient-flow {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .animate-float {
    animation: float 4s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float-delayed 5s ease-in-out infinite 1.5s;
  }

  .animate-float-slow {
    animation: float-slow 6s ease-in-out infinite 3s;
  }

  .animate-gradient-flow {
    animation: gradient-flow 3s ease infinite;
  }
</style>
