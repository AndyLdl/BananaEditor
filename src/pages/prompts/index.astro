---
import Layout from "../../layouts/Layout.astro";
import Container from "../../components/container.astro";
import Sectionhead from "../../components/sectionhead.astro";
import PromptLibrary from "../../components/banana-editor/PromptLibrary.astro";
import { getTranslations } from "../../i18n/utils";

// 获取当前语言的翻译
const lang = Astro.url.searchParams.get("lang") || "zh";
const t = await getTranslations(lang);
const promptsT = await getTranslations(lang, "prompts");

// SEO优化 - 围绕nano banana关键词
const seoTitle =
  lang === "zh"
    ? "Nano Banana 提示词库 - BananaEditor AI图片编辑器"
    : "Nano Banana Prompt Library - BananaEditor AI Image Editor";

const seoDescription =
  lang === "zh"
    ? "探索nano banana AI提示词库，发现优质的图片生成和融合提示词。使用banana ai技术提升您的创作效果。"
    : "Explore nano banana AI prompt library with high-quality prompts for image generation and fusion. Enhance your creativity with banana ai technology.";

const seoKeywords = [
  "nano banana",
  "nano banana ai",
  "banana ai",
  "ai prompts",
  "image generation prompts",
  "ai image editor prompts",
];
---

<Layout title={seoTitle} description={seoDescription}>
  <Container>
    <!-- 页面标题区域 -->
    <Sectionhead>
      <Fragment slot="title">{promptsT.title}</Fragment>
      <Fragment slot="desc">{promptsT.subtitle}</Fragment>
    </Sectionhead>

    <!-- Coming Soon 状态 -->
    <div class="coming-soon-container">
      <div class="coming-soon-content">
        <div class="coming-soon-icon">
          <span class="text-6xl">🚀</span>
        </div>
        <h2 class="coming-soon-title">Prompt Library Coming Soon</h2>
        <p class="coming-soon-description">
          We're working hard to bring you an amazing collection of nano banana
          AI prompts. Stay tuned for the launch!
        </p>
        <div class="coming-soon-features">
          <div class="feature-item">
            <span class="feature-icon">✨</span>
            <span>Curated nano banana AI prompts</span>
          </div>
          <div class="feature-item">
            <span class="feature-icon">🎨</span>
            <span>Professional image generation prompts</span>
          </div>
          <div class="feature-item">
            <span class="feature-icon">🔍</span>
            <span>Advanced search and filtering</span>
          </div>
        </div>
        <div class="coming-soon-cta">
          <a href="/editor" class="cta-button">
            <span>Try Editor Now</span>
            <span class="arrow">→</span>
          </a>
        </div>
      </div>
    </div>
  </Container>

  <!-- 页面样式 -->
  <style>
    .coming-soon-container {
      margin-top: 2rem;
      min-height: 70vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 4rem 2rem;
    }

    .coming-soon-content {
      text-align: center;
      max-width: 600px;
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      border-radius: 2rem;
      padding: 3rem;
      box-shadow:
        0 20px 25px -5px rgba(0, 0, 0, 0.1),
        0 10px 10px -5px rgba(0, 0, 0, 0.04);
      border: 1px solid #e2e8f0;
    }

    .coming-soon-icon {
      margin-bottom: 2rem;
      animation: bounce 2s infinite;
    }

    .coming-soon-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #f59e0b, #d97706);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .coming-soon-description {
      font-size: 1.125rem;
      color: #64748b;
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .coming-soon-features {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 2.5rem;
    }

    .feature-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      background: white;
      border-radius: 0.75rem;
      border: 1px solid #e2e8f0;
      font-weight: 500;
      color: #374151;
    }

    .feature-icon {
      font-size: 1.25rem;
    }

    .coming-soon-cta {
      margin-top: 2rem;
    }

    .cta-button {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 2rem;
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
      text-decoration: none;
      border-radius: 1rem;
      font-weight: 600;
      font-size: 1.125rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 14px 0 rgba(245, 158, 11, 0.4);
    }

    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px 0 rgba(245, 158, 11, 0.6);
    }

    .arrow {
      transition: transform 0.3s ease;
    }

    .cta-button:hover .arrow {
      transform: translateX(4px);
    }

    @keyframes bounce {
      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-10px);
      }
      60% {
        transform: translateY(-5px);
      }
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
      .coming-soon-container {
        margin-top: 1rem;
        padding: 2rem 1rem;
      }

      .coming-soon-content {
        padding: 2rem;
      }

      .coming-soon-title {
        font-size: 2rem;
      }

      .coming-soon-description {
        font-size: 1rem;
      }

      .feature-item {
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
      }
    }
  </style>

  <!-- 页面脚本 -->
  <script>
    // 页面加载完成后的初始化
    document.addEventListener("DOMContentLoaded", () => {
      // 从URL参数获取搜索关键词
      const urlParams = new URLSearchParams(window.location.search);
      const searchQuery = urlParams.get("search");

      if (searchQuery) {
        // 如果有搜索参数，触发搜索
        const searchInput = document.querySelector(
          "#prompt-search-input"
        ) as HTMLInputElement;
        if (searchInput) {
          searchInput.value = searchQuery;
          searchInput.dispatchEvent(new Event("input"));
        }
      }

      // 监听来自编辑器的消息
      window.addEventListener("message", (event) => {
        if (event.data.type === "PROMPT_USED_IN_EDITOR") {
          // 显示成功消息
          showNotification("提示词已在编辑器中应用", "success");
        }
      });
    });

    // 显示通知消息
    function showNotification(message, type = "info") {
      const notification = document.createElement("div");
      notification.className = `notification notification-${type}`;
      notification.textContent = message;

      // 添加样式
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 24px;
        border-radius: 8px;
        color: white;
        font-weight: 500;
        z-index: 1000;
        animation: slideIn 0.3s ease-out;
      `;

      // 根据类型设置背景色
      switch (type) {
        case "success":
          notification.style.backgroundColor = "#10B981";
          break;
        case "error":
          notification.style.backgroundColor = "#EF4444";
          break;
        default:
          notification.style.backgroundColor = "#3B82F6";
      }

      document.body.appendChild(notification);

      // 3秒后自动移除
      setTimeout(() => {
        notification.style.animation = "slideOut 0.3s ease-in";
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 3000);
    }

    // 添加动画样式
    const style = document.createElement("style");
    style.textContent = `
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      
      @keyframes slideOut {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);
  </script>
</Layout>
