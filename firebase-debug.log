[debug] [2025-10-21T23:04:47.080Z] ----------------------------------------------------------------------
[debug] [2025-10-21T23:04:47.082Z] Command:       /Users/andy/.nvm/versions/node/v20.19.0/bin/node /Users/andy/.nvm/versions/node/v20.19.0/bin/firebase deploy --only functions:bananaAIGenerator_v2
[debug] [2025-10-21T23:04:47.082Z] CLI Version:   14.12.0
[debug] [2025-10-21T23:04:47.082Z] Platform:      darwin
[debug] [2025-10-21T23:04:47.082Z] Node Version:  v20.19.0
[debug] [2025-10-21T23:04:47.082Z] Time:          Wed Oct 22 2025 07:04:47 GMT+0800 (中国标准时间)
[debug] [2025-10-21T23:04:47.082Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-21T23:04:47.163Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-21T23:04:47.163Z] > authorizing via signed-in user (ldliangcool@gmail.com)
[debug] [2025-10-21T23:04:47.163Z] [iam] checking project bananaeditor-927be for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-10-21T23:04:47.164Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:47.164Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:47.164Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions [none]
[debug] [2025-10-21T23:04:47.165Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions x-goog-quota-user=projects/bananaeditor-927be
[debug] [2025-10-21T23:04:47.165Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-10-21T23:04:48.320Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions 200
[debug] [2025-10-21T23:04:48.320Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-10-21T23:04:48.320Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:48.320Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:48.320Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/bananaeditor-927be/serviceAccounts/bananaeditor-927be@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-10-21T23:04:48.320Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/bananaeditor-927be/serviceAccounts/bananaeditor-927be@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-10-21T23:04:49.335Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/bananaeditor-927be/serviceAccounts/bananaeditor-927be@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-10-21T23:04:49.336Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/bananaeditor-927be/serviceAccounts/bananaeditor-927be@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'bananaeditor-927be'...
[info] 
[info] i  deploying functions 
[debug] [2025-10-21T23:04:49.338Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:49.338Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:49.338Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be [none]
[debug] [2025-10-21T23:04:49.641Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be 200
[debug] [2025-10-21T23:04:49.641Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be {"projectNumber":"325768537013","projectId":"bananaeditor-927be","lifecycleState":"ACTIVE","name":"bananaeditor","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-28T15:33:58.763173Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-10-21T23:04:49.644Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:49.644Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:49.644Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bananaeditor-927be/adminSdkConfig [none]
[debug] [2025-10-21T23:04:50.340Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bananaeditor-927be/adminSdkConfig 200
[debug] [2025-10-21T23:04:50.340Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bananaeditor-927be/adminSdkConfig {"projectId":"bananaeditor-927be","storageBucket":"bananaeditor-927be.firebasestorage.app"}
[debug] [2025-10-21T23:04:50.340Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:50.340Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:50.340Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs [none]
[debug] [2025-10-21T23:04:51.245Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs 200
[debug] [2025-10-21T23:04:51.245Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs {"configs":[{"name":"projects/bananaeditor-927be/configs/app"},{"name":"projects/bananaeditor-927be/configs/supabase"}]}
[debug] [2025-10-21T23:04:51.245Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.245Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.245Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.245Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.245Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables [none]
[debug] [2025-10-21T23:04:51.245Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables [none]
[debug] [2025-10-21T23:04:51.587Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables 200
[debug] [2025-10-21T23:04:51.587Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables {"variables":[{"name":"projects/bananaeditor-927be/configs/app/variables/allowed_origins","updateTime":"2025-10-10T16:11:27.328686864Z"},{"name":"projects/bananaeditor-927be/configs/app/variables/encryption_key","updateTime":"2025-10-10T15:23:53.225298624Z"}]}
[debug] [2025-10-21T23:04:51.587Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.587Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.587Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.587Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.587Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/allowed_origins [none]
[debug] [2025-10-21T23:04:51.588Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/encryption_key [none]
[debug] [2025-10-21T23:04:51.720Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables 200
[debug] [2025-10-21T23:04:51.720Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables {"variables":[{"name":"projects/bananaeditor-927be/configs/supabase/variables/service_key","updateTime":"2025-10-20T15:16:25.147294641Z"},{"name":"projects/bananaeditor-927be/configs/supabase/variables/url","updateTime":"2025-10-20T15:15:52.524802634Z"}]}
[debug] [2025-10-21T23:04:51.720Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.720Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.720Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.721Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:51.721Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/service_key [none]
[debug] [2025-10-21T23:04:51.721Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/url [none]
[debug] [2025-10-21T23:04:51.835Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/allowed_origins 200
[debug] [2025-10-21T23:04:51.835Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/allowed_origins {"name":"projects/bananaeditor-927be/configs/app/variables/allowed_origins","updateTime":"2025-10-10T16:11:27.328686864Z","text":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:3000"}
[debug] [2025-10-21T23:04:51.980Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/service_key 200
[debug] [2025-10-21T23:04:51.980Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/service_key {"name":"projects/bananaeditor-927be/configs/supabase/variables/service_key","updateTime":"2025-10-20T15:16:25.147294641Z","text":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4"}
[debug] [2025-10-21T23:04:52.048Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/encryption_key 200
[debug] [2025-10-21T23:04:52.049Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/encryption_key {"name":"projects/bananaeditor-927be/configs/app/variables/encryption_key","updateTime":"2025-10-10T15:23:53.225298624Z","text":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1"}
[debug] [2025-10-21T23:04:52.121Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/url 200
[debug] [2025-10-21T23:04:52.121Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/url {"name":"projects/bananaeditor-927be/configs/supabase/variables/url","updateTime":"2025-10-20T15:15:52.524802634Z","text":"https://ngbfghotijgahynimlop.supabase.co"}
[debug] [2025-10-21T23:04:52.121Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-10-21T23:04:53.747Z] > [functions] package.json contents: {
  "name": "banana-ai-firebase-functions",
  "description": "Banana AI Editor Firebase云函数",
  "version": "1.0.0",
  "type": "module",
  "main": "index.js",
  "engines": {
    "node": "18"
  },
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "node test-function.js"
  },
  "dependencies": {
    "@google-cloud/storage": "^7.7.0",
    "@google/genai": "^1.21.0",
    "@supabase/supabase-js": "^2.75.1",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^5.0.0",
    "multer": "^1.4.5-lts.1",
    "sharp": "^0.33.4"
  },
  "devDependencies": {
    "@types/cors": "^2.8.17",
    "@types/multer": "^1.4.12",
    "firebase-functions-test": "^3.1.0"
  }
}
[debug] [2025-10-21T23:04:53.747Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-10-21T23:04:53.747Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-10-21T23:04:53.754Z] Found firebase-functions binary at '/Users/andy/VSCodeProjects/BananaEditor/firebase-functions/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8201

[debug] [2025-10-21T23:04:54.076Z] Got response from /__/functions.yaml {"endpoints":{"bananaAIGenerator":{"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":10,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"bananaAIGenerator"},"bananaAIGenerator_v2":{"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":10,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"bananaAIGenerator_v2"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-10-21T23:04:58.088Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-21T23:04:58.088Z] > authorizing via signed-in user (ldliangcool@gmail.com)
[debug] [2025-10-21T23:04:58.088Z] [iam] checking project bananaeditor-927be for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-10-21T23:04:58.088Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:58.088Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:58.088Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions [none]
[debug] [2025-10-21T23:04:58.088Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions x-goog-quota-user=projects/bananaeditor-927be
[debug] [2025-10-21T23:04:58.088Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-10-21T23:04:59.221Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions 200
[debug] [2025-10-21T23:04:59.221Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-10-21T23:04:59.221Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:59.221Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:04:59.222Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/bananaeditor-927be/instances pageSize=100&pageToken=
[debug] [2025-10-21T23:05:00.844Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/bananaeditor-927be/instances 200
[debug] [2025-10-21T23:05:00.845Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/bananaeditor-927be/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing firebase-functions/functions directory for uploading... 
[info] i  functions: packaged /Users/andy/VSCodeProjects/BananaEditor/firebase-functions/functions (95.62 KB) for uploading 
[debug] [2025-10-21T23:05:00.866Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:00.866Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:00.866Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/bananaeditor-927be/locations/-/functions [none]
[debug] [2025-10-21T23:05:02.440Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/bananaeditor-927be/locations/-/functions 200
[debug] [2025-10-21T23:05:02.440Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/bananaeditor-927be/locations/-/functions {}
[debug] [2025-10-21T23:05:02.440Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:02.440Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:02.441Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-10-21T23:05:03.158Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/-/functions 200
[debug] [2025-10-21T23:05:03.158Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/-/functions {"functions":[{"name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator","buildConfig":{"build":"projects/325768537013/locations/us-central1/builds/e165f14c-6afd-446e-9fab-2d518d34662a","runtime":"nodejs18","entryPoint":"bananaAIGenerator","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator/function-source.zip","generation":"1760229250309529"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator/function-source.zip","generation":"1760229250309529"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator","FUNCTION_TARGET":"bananaAIGenerator","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-00026-cup","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-10-12T00:35:18.790847813Z","labels":{"firebase-functions-hash":"59b6d3ed90e2172c5559341b6657ebb620974567","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator","createTime":"2025-09-28T15:47:16.500147988Z","satisfiesPzi":true},{"name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"build":"projects/325768537013/locations/us-central1/builds/b3fe567f-196a-4cbb-89fc-c5e5c28ac3af","runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-10-21T22:57:05.482762326Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"df693226245b8b7fdc771461ce4293f0caf58235"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","createTime":"2025-10-20T15:17:42.362384648Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-10-21T23:05:03.160Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:03.160Z] Checked if tokens are valid: true, expires at: 1761090920782
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-10-21T23:05:03.160Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:03.160Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:03.160Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-10-21T23:05:03.160Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/325768537013
[debug] [2025-10-21T23:05:03.161Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-10-21T23:05:03.161Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-10-21T23:05:03.161Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/325768537013
[debug] [2025-10-21T23:05:03.161Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-10-21T23:05:03.998Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-10-21T23:05:03.998Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-325768537013@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"101923735547622713712"}}
[debug] [2025-10-21T23:05:04.912Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-10-21T23:05:04.912Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-325768537013@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"103061715326087633071"}}
[debug] [2025-10-21T23:05:04.913Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:04.913Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:04.913Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be [none]
[debug] [2025-10-21T23:05:05.789Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be 200
[debug] [2025-10-21T23:05:05.789Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be {"projectNumber":"325768537013","projectId":"bananaeditor-927be","lifecycleState":"ACTIVE","name":"bananaeditor","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-28T15:33:58.763173Z"}
[debug] [2025-10-21T23:05:05.789Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:05.789Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:05.789Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/325768537013 [none]
[debug] [2025-10-21T23:05:06.827Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/325768537013 200
[debug] [2025-10-21T23:05:06.828Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/325768537013 {"kind":"compute#project","id":"7290572765998146339","creationTimestamp":"2025-09-28T09:09:49.119-07:00","name":"bananaeditor-927be","commonInstanceMetadata":{"kind":"compute#metadata","fingerprint":"Co9wVz2jM6Y="},"quotas":[{"metric":"SNAPSHOTS","limit":5000,"usage":0},{"metric":"NETWORKS","limit":15,"usage":1},{"metric":"FIREWALLS","limit":200,"usage":4},{"metric":"IMAGES","limit":2000,"usage":0},{"metric":"STATIC_ADDRESSES","limit":21,"usage":0},{"metric":"ROUTES","limit":250,"usage":0},{"metric":"FORWARDING_RULES","limit":45,"usage":0},{"metric":"TARGET_POOLS","limit":150,"usage":0},{"metric":"HEALTH_CHECKS","limit":150,"usage":0},{"metric":"IN_USE_ADDRESSES","limit":69,"usage":0},{"metric":"TARGET_INSTANCES","limit":150,"usage":0},{"metric":"TARGET_HTTP_PROXIES","limit":30,"usage":0},{"metric":"URL_MAPS","limit":30,"usage":0},{"metric":"BACKEND_SERVICES","limit":75,"usage":0},{"metric":"INSTANCE_TEMPLATES","limit":300,"usage":0},{"metric":"TARGET_VPN_GATEWAYS","limit":15,"usage":0},{"metric":"VPN_TUNNELS","limit":30,"usage":0},{"metric":"BACKEND_BUCKETS","limit":9,"usage":0},{"metric":"ROUTERS","limit":10,"usage":0},{"metric":"TARGET_SSL_PROXIES","limit":30,"usage":0},{"metric":"TARGET_HTTPS_PROXIES","limit":30,"usage":0},{"metric":"SSL_CERTIFICATES","limit":30,"usage":0},{"metric":"SUBNETWORKS","limit":175,"usage":0},{"metric":"TARGET_TCP_PROXIES","limit":30,"usage":0},{"metric":"SECURITY_POLICIES","limit":10,"usage":0},{"metric":"SECURITY_POLICY_RULES","limit":100,"usage":0},{"metric":"XPN_SERVICE_PROJECTS","limit":1000,"usage":0},{"metric":"PACKET_MIRRORINGS","limit":45,"usage":0},{"metric":"NETWORK_ENDPOINT_GROUPS","limit":1000,"usage":0},{"metric":"INTERCONNECTS","limit":6,"usage":0},{"metric":"SSL_POLICIES","limit":30,"usage":0},{"metric":"GLOBAL_INTERNAL_ADDRESSES","limit":5000,"usage":0},{"metric":"VPN_GATEWAYS","limit":15,"usage":0},{"metric":"MACHINE_IMAGES","limit":2000,"usage":0},{"metric":"SECURITY_POLICY_CEVAL_RULES","limit":20,"usage":0},{"metric":"EXTERNAL_VPN_GATEWAYS","limit":15,"usage":0},{"metric":"PUBLIC_ADVERTISED_PREFIXES","limit":1,"usage":0},{"metric":"PUBLIC_DELEGATED_PREFIXES","limit":10,"usage":0},{"metric":"STATIC_BYOIP_ADDRESSES","limit":1024,"usage":0},{"metric":"NETWORK_FIREWALL_POLICIES","limit":30,"usage":0},{"metric":"INTERNAL_TRAFFIC_DIRECTOR_FORWARDING_RULES","limit":45,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_FORWARDING_RULES","limit":45,"usage":0},{"metric":"GLOBAL_INTERNAL_MANAGED_BACKEND_SERVICES","limit":75,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_BACKEND_SERVICES","limit":75,"usage":0},{"metric":"GLOBAL_EXTERNAL_PROXY_LB_BACKEND_SERVICES","limit":75,"usage":0},{"metric":"GLOBAL_INTERNAL_TRAFFIC_DIRECTOR_BACKEND_SERVICES","limit":500,"usage":0}],"selfLink":"https://www.googleapis.com/compute/v1/projects/bananaeditor-927be","defaultServiceAccount":"325768537013-compute@developer.gserviceaccount.com","xpnProjectStatus":"UNSPECIFIED_XPN_PROJECT_STATUS","defaultNetworkTier":"PREMIUM","vmDnsSetting":"ZONAL_ONLY","cloudArmorTier":"CA_STANDARD"}
[debug] [2025-10-21T23:05:06.828Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:06.828Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:06.828Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/bananaeditor-927be/billingInfo [none]
[debug] [2025-10-21T23:05:07.412Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/bananaeditor-927be/billingInfo 200
[debug] [2025-10-21T23:05:07.412Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/bananaeditor-927be/billingInfo {"name":"projects/bananaeditor-927be/billingInfo","projectId":"bananaeditor-927be","billingAccountName":"billingAccounts/01BC01-9330D8-33E386","billingEnabled":true}
[debug] [2025-10-21T23:05:07.413Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:07.413Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:07.413Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-10-21T23:05:07.970Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-10-21T23:05:07.971Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/97953462-ea99-4cfa-b429-57d0114000e7.zip?GoogleAccessId=service-325768537013@gcf-admin-robot.iam.gserviceaccount.com&Expires=1761089707&Signature=AVg%2Bh9o%2BlEVZ9Rmn6SgVIj4rPBlf5fJh44ZtRZv%2FoUxQoSReGx9cWCy7Uau6RD108SogmSbqiM3T8IYqkBHbWAerylnUJpu7Q50q%2BOaKAc8zxIIFSzpeGWvViRrEH%2Bx5t9v7CZfL7Eico7ViqlsJnf7HRdGxN6i8pf8dPyInEcEljWb2tqLx8TCFhpX4tXcpvR6kstxGzeVUfo0P8e2jaYyogn5k44t2n6Q2pU6qS7XehdCKsi2vGS909C%2F5AjsrKV%2Fge4IIwT9NZgiBCAXOA2di9fSrDKc9hgpDB0AjZlAlh8Do7YXj5MkcHkcFJbWvGxlKHbUwdrri0fOXNmx%2FZA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com","object":"97953462-ea99-4cfa-b429-57d0114000e7.zip"}}
[debug] [2025-10-21T23:05:07.971Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/97953462-ea99-4cfa-b429-57d0114000e7.zip GoogleAccessId=service-325768537013%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1761089707&Signature=AVg%2Bh9o%2BlEVZ9Rmn6SgVIj4rPBlf5fJh44ZtRZv%2FoUxQoSReGx9cWCy7Uau6RD108SogmSbqiM3T8IYqkBHbWAerylnUJpu7Q50q%2BOaKAc8zxIIFSzpeGWvViRrEH%2Bx5t9v7CZfL7Eico7ViqlsJnf7HRdGxN6i8pf8dPyInEcEljWb2tqLx8TCFhpX4tXcpvR6kstxGzeVUfo0P8e2jaYyogn5k44t2n6Q2pU6qS7XehdCKsi2vGS909C%2F5AjsrKV%2Fge4IIwT9NZgiBCAXOA2di9fSrDKc9hgpDB0AjZlAlh8Do7YXj5MkcHkcFJbWvGxlKHbUwdrri0fOXNmx%2FZA%3D%3D
[debug] [2025-10-21T23:05:07.971Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/97953462-ea99-4cfa-b429-57d0114000e7.zip [stream]
[debug] [2025-10-21T23:05:09.228Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/97953462-ea99-4cfa-b429-57d0114000e7.zip 200
[debug] [2025-10-21T23:05:09.228Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/97953462-ea99-4cfa-b429-57d0114000e7.zip [omitted]
[info] ✔  functions: firebase-functions/functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function bananaAIGenerator_v2(us-central1)... 
[debug] [2025-10-21T23:05:09.230Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:09.230Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:09.230Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2 updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-10-21T23:05:09.230Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2 {"name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com","object":"97953462-ea99-4cfa-b429-57d0114000e7.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":300,"serviceAccountEmail":null,"availableMemory":"1024Mi","minInstanceCount":null,"maxInstanceCount":10,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"}}
[debug] [2025-10-21T23:05:10.535Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2 200
[debug] [2025-10-21T23:05:10.535Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-10-21T23:05:10.536Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:10.536Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:10.536Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:05:10.928Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:05:10.928Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Node.js 18 will be decommissioned on 2025-10-30. As of 2025-10-30 you will no longer be able to deploy your Cloud Functions using nodejs18. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2025-10-21T23:05:11.429Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:05:11.430Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:11.430Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:11.430Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:05:11.845Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:05:11.846Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":false}
[debug] [2025-10-21T23:05:12.846Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:05:12.847Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:12.847Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:12.847Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:05:13.238Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:05:13.239Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":false}
[debug] [2025-10-21T23:05:15.239Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:05:15.239Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:15.239Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:15.239Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:05:15.641Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:05:15.641Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":false}
[debug] [2025-10-21T23:05:19.644Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:05:19.645Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:19.645Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:19.645Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:05:19.927Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:05:19.927Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":false}
[debug] [2025-10-21T23:05:27.929Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:05:27.929Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:27.929Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:27.929Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:05:28.917Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:05:28.917Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":false}
[debug] [2025-10-21T23:05:38.919Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:05:38.919Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:38.919Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:38.919Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:05:39.876Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:05:39.876Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":false}
[debug] [2025-10-21T23:05:49.878Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:05:49.878Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:49.878Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:05:49.878Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:05:50.906Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:05:50.906Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":false}
[debug] [2025-10-21T23:06:00.907Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:06:00.907Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:00.907Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:00.907Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:06:01.814Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:06:01.814Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/bananaaigenerator-v2?project=bananaeditor-927be","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8zMjU3Njg1MzcwMTMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8yOTQzYzM5My1mZjA4LTQ2N2ItODEwNC05ODc2ZjRlNTM5ZTgSgQF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9iYW5hbmFlZGl0b3ItOTI3YmUvZ2NmLWFydGlmYWN0cy9iYW5hbmFlZGl0b3ItLTkyN2JlX191cy0tY2VudHJhbDFfX2JhbmFuYV9hX2lfZ2VuZXJhdG9yX192Mjp2ZXJzaW9uXzEYtcfFyr0JIlBwcm9qZWN0cy9iYW5hbmFlZGl0b3ItOTI3YmUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9iYW5hbmFBSUdlbmVyYXRvcl92MioLCNej4McGEMjTwEAyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":false}
[debug] [2025-10-21T23:06:01.814Z] Got source token Cldwcm9qZWN0cy8zMjU3Njg1MzcwMTMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8yOTQzYzM5My1mZjA4LTQ2N2ItODEwNC05ODc2ZjRlNTM5ZTgSgQF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9iYW5hbmFlZGl0b3ItOTI3YmUvZ2NmLWFydGlmYWN0cy9iYW5hbmFlZGl0b3ItLTkyN2JlX191cy0tY2VudHJhbDFfX2JhbmFuYV9hX2lfZ2VuZXJhdG9yX192Mjp2ZXJzaW9uXzEYtcfFyr0JIlBwcm9qZWN0cy9iYW5hbmFlZGl0b3ItOTI3YmUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9iYW5hbmFBSUdlbmVyYXRvcl92MioLCNej4McGEMjTwEAyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2025-10-21T23:06:11.815Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:06:11.815Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:11.815Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:11.815Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae [none]
[debug] [2025-10-21T23:06:12.704Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae 200
[debug] [2025-10-21T23:06:12.705Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761087909584-641b33b44dcac-70ee5f3f-02e7daae","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:05:10.441927147Z","endTime":"2025-10-21T23:06:11.403493645Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087347730394"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00005-vez","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2943c393-ff08-467b-8104-9876f4e539e8?project=325768537013"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/bananaaigenerator-v2?project=bananaeditor-927be","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8zMjU3Njg1MzcwMTMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8yOTQzYzM5My1mZjA4LTQ2N2ItODEwNC05ODc2ZjRlNTM5ZTgSgQF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9iYW5hbmFlZGl0b3ItOTI3YmUvZ2NmLWFydGlmYWN0cy9iYW5hbmFlZGl0b3ItLTkyN2JlX191cy0tY2VudHJhbDFfX2JhbmFuYV9hX2lfZ2VuZXJhdG9yX192Mjp2ZXJzaW9uXzEYtcfFyr0JIlBwcm9qZWN0cy9iYW5hbmFlZGl0b3ItOTI3YmUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9iYW5hbmFBSUdlbmVyYXRvcl92MioLCNej4McGEMjTwEAyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"build":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-10-21T23:05:10.444825750Z","labels":{"firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","createTime":"2025-10-20T15:17:42.362384648Z","satisfiesPzi":true}}
[debug] [2025-10-21T23:06:12.705Z] Got source token Cldwcm9qZWN0cy8zMjU3Njg1MzcwMTMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8yOTQzYzM5My1mZjA4LTQ2N2ItODEwNC05ODc2ZjRlNTM5ZTgSgQF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9iYW5hbmFlZGl0b3ItOTI3YmUvZ2NmLWFydGlmYWN0cy9iYW5hbmFlZGl0b3ItLTkyN2JlX191cy0tY2VudHJhbDFfX2JhbmFuYV9hX2lfZ2VuZXJhdG9yX192Mjp2ZXJzaW9uXzEYtcfFyr0JIlBwcm9qZWN0cy9iYW5hbmFlZGl0b3ItOTI3YmUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9iYW5hbmFBSUdlbmVyYXRvcl92MioLCNej4McGEMjTwEAyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[info] ✔  functions[bananaAIGenerator_v2(us-central1)] Successful update operation. 
[debug] [2025-10-21T23:06:12.709Z] Total Function Deployment time: 63476
[debug] [2025-10-21T23:06:12.710Z] 1 Functions Deployed
[debug] [2025-10-21T23:06:12.710Z] 0 Functions Errored
[debug] [2025-10-21T23:06:12.710Z] 0 Function Deployments Aborted
[debug] [2025-10-21T23:06:12.710Z] Average Function Deployment time: 63476
[debug] [2025-10-21T23:06:18.224Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] Function URL (bananaAIGenerator_v2(us-central1)): https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app
[debug] [2025-10-21T23:06:18.225Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:18.225Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:18.225Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-10-21T23:06:19.401Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-10-21T23:06:19.401Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts {"name":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-28T15:47:31.262874Z","updateTime":"2025-10-21T23:05:53.521354Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"188555567","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-28T15:47:16.662580065Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/bananaeditor-927be/gcf-artifacts"}
[info] 
[info] ✔  Deploy complete! 
[info] 
[info] Project Console: https://console.firebase.google.com/project/bananaeditor-927be/overview
[debug] [2025-10-21T23:06:34.681Z] Error: Timed out.
    at Timeout._onTimeout (/Users/andy/.nvm/versions/node/v20.19.0/lib/node_modules/firebase-tools/lib/utils.js:272:49)
    at listOnTimeout (node:internal/timers:581:17)
    at process.processTimers (node:internal/timers:519:7)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2025-10-21T23:06:55.166Z] ----------------------------------------------------------------------
[debug] [2025-10-21T23:06:55.167Z] Command:       /Users/andy/.nvm/versions/node/v20.19.0/bin/node /Users/andy/.nvm/versions/node/v20.19.0/bin/firebase deploy --only functions:bananaAIGenerator_v2
[debug] [2025-10-21T23:06:55.168Z] CLI Version:   14.12.0
[debug] [2025-10-21T23:06:55.168Z] Platform:      darwin
[debug] [2025-10-21T23:06:55.168Z] Node Version:  v20.19.0
[debug] [2025-10-21T23:06:55.168Z] Time:          Wed Oct 22 2025 07:06:55 GMT+0800 (中国标准时间)
[debug] [2025-10-21T23:06:55.168Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-21T23:06:55.245Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-21T23:06:55.246Z] > authorizing via signed-in user (ldliangcool@gmail.com)
[debug] [2025-10-21T23:06:55.246Z] [iam] checking project bananaeditor-927be for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-10-21T23:06:55.246Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:55.246Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:55.247Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions [none]
[debug] [2025-10-21T23:06:55.247Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions x-goog-quota-user=projects/bananaeditor-927be
[debug] [2025-10-21T23:06:55.247Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-10-21T23:06:56.422Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions 200
[debug] [2025-10-21T23:06:56.422Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-10-21T23:06:56.422Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:56.422Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:56.422Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/bananaeditor-927be/serviceAccounts/bananaeditor-927be@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-10-21T23:06:56.422Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/bananaeditor-927be/serviceAccounts/bananaeditor-927be@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-10-21T23:06:57.885Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/bananaeditor-927be/serviceAccounts/bananaeditor-927be@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-10-21T23:06:57.885Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/bananaeditor-927be/serviceAccounts/bananaeditor-927be@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'bananaeditor-927be'...
[info] 
[info] i  deploying functions 
[debug] [2025-10-21T23:06:57.887Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:57.887Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:57.887Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be [none]
[debug] [2025-10-21T23:06:58.193Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be 200
[debug] [2025-10-21T23:06:58.193Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be {"projectNumber":"325768537013","projectId":"bananaeditor-927be","lifecycleState":"ACTIVE","name":"bananaeditor","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-28T15:33:58.763173Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-10-21T23:06:58.194Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:58.194Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:58.194Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bananaeditor-927be/adminSdkConfig [none]
[debug] [2025-10-21T23:06:58.706Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bananaeditor-927be/adminSdkConfig 200
[debug] [2025-10-21T23:06:58.706Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bananaeditor-927be/adminSdkConfig {"projectId":"bananaeditor-927be","storageBucket":"bananaeditor-927be.firebasestorage.app"}
[debug] [2025-10-21T23:06:58.706Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:58.706Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:58.706Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs [none]
[debug] [2025-10-21T23:06:59.231Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs 200
[debug] [2025-10-21T23:06:59.231Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs {"configs":[{"name":"projects/bananaeditor-927be/configs/app"},{"name":"projects/bananaeditor-927be/configs/supabase"}]}
[debug] [2025-10-21T23:06:59.231Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.231Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.231Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.231Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.231Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables [none]
[debug] [2025-10-21T23:06:59.231Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables [none]
[debug] [2025-10-21T23:06:59.477Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables 200
[debug] [2025-10-21T23:06:59.477Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables {"variables":[{"name":"projects/bananaeditor-927be/configs/app/variables/allowed_origins","updateTime":"2025-10-10T16:11:27.328686864Z"},{"name":"projects/bananaeditor-927be/configs/app/variables/encryption_key","updateTime":"2025-10-10T15:23:53.225298624Z"}]}
[debug] [2025-10-21T23:06:59.477Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.477Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.477Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.477Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.477Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/allowed_origins [none]
[debug] [2025-10-21T23:06:59.478Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/encryption_key [none]
[debug] [2025-10-21T23:06:59.762Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/allowed_origins 200
[debug] [2025-10-21T23:06:59.762Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/allowed_origins {"name":"projects/bananaeditor-927be/configs/app/variables/allowed_origins","updateTime":"2025-10-10T16:11:27.328686864Z","text":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:3000"}
[debug] [2025-10-21T23:06:59.798Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables 200
[debug] [2025-10-21T23:06:59.798Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables {"variables":[{"name":"projects/bananaeditor-927be/configs/supabase/variables/service_key","updateTime":"2025-10-20T15:16:25.147294641Z"},{"name":"projects/bananaeditor-927be/configs/supabase/variables/url","updateTime":"2025-10-20T15:15:52.524802634Z"}]}
[debug] [2025-10-21T23:06:59.798Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.798Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.798Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.798Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:06:59.798Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/service_key [none]
[debug] [2025-10-21T23:06:59.798Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/url [none]
[debug] [2025-10-21T23:06:59.928Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/encryption_key 200
[debug] [2025-10-21T23:06:59.928Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/app/variables/encryption_key {"name":"projects/bananaeditor-927be/configs/app/variables/encryption_key","updateTime":"2025-10-10T15:23:53.225298624Z","text":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1"}
[debug] [2025-10-21T23:07:00.051Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/url 200
[debug] [2025-10-21T23:07:00.051Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/url {"name":"projects/bananaeditor-927be/configs/supabase/variables/url","updateTime":"2025-10-20T15:15:52.524802634Z","text":"https://ngbfghotijgahynimlop.supabase.co"}
[debug] [2025-10-21T23:07:00.179Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/service_key 200
[debug] [2025-10-21T23:07:00.179Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bananaeditor-927be/configs/supabase/variables/service_key {"name":"projects/bananaeditor-927be/configs/supabase/variables/service_key","updateTime":"2025-10-20T15:16:25.147294641Z","text":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4"}
[debug] [2025-10-21T23:07:00.180Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-10-21T23:07:01.134Z] > [functions] package.json contents: {
  "name": "banana-ai-firebase-functions",
  "description": "Banana AI Editor Firebase云函数",
  "version": "1.0.0",
  "type": "module",
  "main": "index.js",
  "engines": {
    "node": "18"
  },
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "node test-function.js"
  },
  "dependencies": {
    "@google-cloud/storage": "^7.7.0",
    "@google/genai": "^1.21.0",
    "@supabase/supabase-js": "^2.75.1",
    "busboy": "^1.6.0",
    "cors": "^2.8.5",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^5.0.0",
    "multer": "^1.4.5-lts.1",
    "sharp": "^0.33.4"
  },
  "devDependencies": {
    "@types/cors": "^2.8.17",
    "@types/multer": "^1.4.12",
    "firebase-functions-test": "^3.1.0"
  }
}
[debug] [2025-10-21T23:07:01.134Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-10-21T23:07:01.135Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-10-21T23:07:01.141Z] Found firebase-functions binary at '/Users/andy/VSCodeProjects/BananaEditor/firebase-functions/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8564

[debug] [2025-10-21T23:07:01.568Z] Got response from /__/functions.yaml {"endpoints":{"bananaAIGenerator":{"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":10,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"bananaAIGenerator"},"bananaAIGenerator_v2":{"availableMemoryMb":1024,"timeoutSeconds":300,"minInstances":null,"maxInstances":10,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"bananaAIGenerator_v2"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-10-21T23:07:05.579Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-21T23:07:05.579Z] > authorizing via signed-in user (ldliangcool@gmail.com)
[debug] [2025-10-21T23:07:05.579Z] [iam] checking project bananaeditor-927be for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-10-21T23:07:05.579Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:05.579Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:05.579Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions [none]
[debug] [2025-10-21T23:07:05.579Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions x-goog-quota-user=projects/bananaeditor-927be
[debug] [2025-10-21T23:07:05.579Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-10-21T23:07:06.631Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions 200
[debug] [2025-10-21T23:07:06.631Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-10-21T23:07:06.632Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:06.632Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:06.632Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/bananaeditor-927be/instances pageSize=100&pageToken=
[debug] [2025-10-21T23:07:07.844Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/bananaeditor-927be/instances 200
[debug] [2025-10-21T23:07:07.844Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/bananaeditor-927be/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing firebase-functions/functions directory for uploading... 
[info] i  functions: packaged /Users/andy/VSCodeProjects/BananaEditor/firebase-functions/functions (95.62 KB) for uploading 
[debug] [2025-10-21T23:07:07.864Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:07.864Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:07.864Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/bananaeditor-927be/locations/-/functions [none]
[debug] [2025-10-21T23:07:09.408Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/bananaeditor-927be/locations/-/functions 200
[debug] [2025-10-21T23:07:09.408Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/bananaeditor-927be/locations/-/functions {}
[debug] [2025-10-21T23:07:09.409Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:09.409Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:09.409Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-10-21T23:07:10.126Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/-/functions 200
[debug] [2025-10-21T23:07:10.126Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/-/functions {"functions":[{"name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator","buildConfig":{"build":"projects/325768537013/locations/us-central1/builds/e165f14c-6afd-446e-9fab-2d518d34662a","runtime":"nodejs18","entryPoint":"bananaAIGenerator","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator/function-source.zip","generation":"1760229250309529"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator/function-source.zip","generation":"1760229250309529"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator","FUNCTION_TARGET":"bananaAIGenerator","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-00026-cup","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-10-12T00:35:18.790847813Z","labels":{"firebase-functions-hash":"59b6d3ed90e2172c5559341b6657ebb620974567","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator","createTime":"2025-09-28T15:47:16.500147988Z","satisfiesPzi":true},{"name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"build":"projects/325768537013/locations/us-central1/builds/2943c393-ff08-467b-8104-9876f4e539e8","runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-10-21T23:06:11.516696708Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","createTime":"2025-10-20T15:17:42.362384648Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-10-21T23:07:10.128Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:10.128Z] Checked if tokens are valid: true, expires at: 1761090920782
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-10-21T23:07:10.129Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:10.129Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:10.129Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-10-21T23:07:10.129Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/325768537013
[debug] [2025-10-21T23:07:10.129Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-10-21T23:07:10.129Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-10-21T23:07:10.129Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/325768537013
[debug] [2025-10-21T23:07:10.129Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-10-21T23:07:11.558Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-10-21T23:07:11.558Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-325768537013@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"101923735547622713712"}}
[debug] [2025-10-21T23:07:11.654Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-10-21T23:07:11.654Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/325768537013/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-325768537013@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"103061715326087633071"}}
[debug] [2025-10-21T23:07:11.655Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:11.655Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:11.655Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be [none]
[debug] [2025-10-21T23:07:12.731Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be 200
[debug] [2025-10-21T23:07:12.732Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/bananaeditor-927be {"projectNumber":"325768537013","projectId":"bananaeditor-927be","lifecycleState":"ACTIVE","name":"bananaeditor","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-28T15:33:58.763173Z"}
[debug] [2025-10-21T23:07:12.732Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:12.732Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:12.732Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/325768537013 [none]
[debug] [2025-10-21T23:07:13.989Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/325768537013 200
[debug] [2025-10-21T23:07:13.989Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/325768537013 {"kind":"compute#project","id":"7290572765998146339","creationTimestamp":"2025-09-28T09:09:49.119-07:00","name":"bananaeditor-927be","commonInstanceMetadata":{"kind":"compute#metadata","fingerprint":"Co9wVz2jM6Y="},"quotas":[{"metric":"SNAPSHOTS","limit":5000,"usage":0},{"metric":"NETWORKS","limit":15,"usage":1},{"metric":"FIREWALLS","limit":200,"usage":4},{"metric":"IMAGES","limit":2000,"usage":0},{"metric":"STATIC_ADDRESSES","limit":21,"usage":0},{"metric":"ROUTES","limit":250,"usage":0},{"metric":"FORWARDING_RULES","limit":45,"usage":0},{"metric":"TARGET_POOLS","limit":150,"usage":0},{"metric":"HEALTH_CHECKS","limit":150,"usage":0},{"metric":"IN_USE_ADDRESSES","limit":69,"usage":0},{"metric":"TARGET_INSTANCES","limit":150,"usage":0},{"metric":"TARGET_HTTP_PROXIES","limit":30,"usage":0},{"metric":"URL_MAPS","limit":30,"usage":0},{"metric":"BACKEND_SERVICES","limit":75,"usage":0},{"metric":"INSTANCE_TEMPLATES","limit":300,"usage":0},{"metric":"TARGET_VPN_GATEWAYS","limit":15,"usage":0},{"metric":"VPN_TUNNELS","limit":30,"usage":0},{"metric":"BACKEND_BUCKETS","limit":9,"usage":0},{"metric":"ROUTERS","limit":10,"usage":0},{"metric":"TARGET_SSL_PROXIES","limit":30,"usage":0},{"metric":"TARGET_HTTPS_PROXIES","limit":30,"usage":0},{"metric":"SSL_CERTIFICATES","limit":30,"usage":0},{"metric":"SUBNETWORKS","limit":175,"usage":0},{"metric":"TARGET_TCP_PROXIES","limit":30,"usage":0},{"metric":"SECURITY_POLICIES","limit":10,"usage":0},{"metric":"SECURITY_POLICY_RULES","limit":100,"usage":0},{"metric":"XPN_SERVICE_PROJECTS","limit":1000,"usage":0},{"metric":"PACKET_MIRRORINGS","limit":45,"usage":0},{"metric":"NETWORK_ENDPOINT_GROUPS","limit":1000,"usage":0},{"metric":"INTERCONNECTS","limit":6,"usage":0},{"metric":"SSL_POLICIES","limit":30,"usage":0},{"metric":"GLOBAL_INTERNAL_ADDRESSES","limit":5000,"usage":0},{"metric":"VPN_GATEWAYS","limit":15,"usage":0},{"metric":"MACHINE_IMAGES","limit":2000,"usage":0},{"metric":"SECURITY_POLICY_CEVAL_RULES","limit":20,"usage":0},{"metric":"EXTERNAL_VPN_GATEWAYS","limit":15,"usage":0},{"metric":"PUBLIC_ADVERTISED_PREFIXES","limit":1,"usage":0},{"metric":"PUBLIC_DELEGATED_PREFIXES","limit":10,"usage":0},{"metric":"STATIC_BYOIP_ADDRESSES","limit":1024,"usage":0},{"metric":"NETWORK_FIREWALL_POLICIES","limit":30,"usage":0},{"metric":"INTERNAL_TRAFFIC_DIRECTOR_FORWARDING_RULES","limit":45,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_FORWARDING_RULES","limit":45,"usage":0},{"metric":"GLOBAL_INTERNAL_MANAGED_BACKEND_SERVICES","limit":75,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_BACKEND_SERVICES","limit":75,"usage":0},{"metric":"GLOBAL_EXTERNAL_PROXY_LB_BACKEND_SERVICES","limit":75,"usage":0},{"metric":"GLOBAL_INTERNAL_TRAFFIC_DIRECTOR_BACKEND_SERVICES","limit":500,"usage":0}],"selfLink":"https://www.googleapis.com/compute/v1/projects/bananaeditor-927be","defaultServiceAccount":"325768537013-compute@developer.gserviceaccount.com","xpnProjectStatus":"UNSPECIFIED_XPN_PROJECT_STATUS","defaultNetworkTier":"PREMIUM","vmDnsSetting":"ZONAL_ONLY","cloudArmorTier":"CA_STANDARD"}
[debug] [2025-10-21T23:07:13.990Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:13.990Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:13.991Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/bananaeditor-927be/billingInfo [none]
[debug] [2025-10-21T23:07:14.445Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/bananaeditor-927be/billingInfo 200
[debug] [2025-10-21T23:07:14.445Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/bananaeditor-927be/billingInfo {"name":"projects/bananaeditor-927be/billingInfo","projectId":"bananaeditor-927be","billingAccountName":"billingAccounts/01BC01-9330D8-33E386","billingEnabled":true}
[debug] [2025-10-21T23:07:14.445Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:14.445Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:14.445Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-10-21T23:07:14.825Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-10-21T23:07:14.825Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/478e7246-43ab-4cf4-b4f0-5e976419c6f4.zip?GoogleAccessId=service-325768537013@gcf-admin-robot.iam.gserviceaccount.com&Expires=1761089834&Signature=EXg529INdnn9dkaWZgUDZicPA1jybIOl3l3AbZlQLUS%2Fla0locLCsmB%2Fq5OmeR5dcAlS06Y7rQulGBfd%2FDy6p8o1gz9QZ6yj88RI8jqtT%2FcffcEn0dszJeTBn33gIOQqxbXf7wdHXelhE%2F89TqQJUUWqNvK1iYytKULVhNXetszdPnjPYPK5Ll71iv2xHUG4l%2BZb8sEI%2BcWlNOHPnLjgrrLRtMDmcut%2FnOZKv7TDphK0baV575NSyX4MwlhNraz3%2F%2F%2FODnLOpc4cI6qMV3vRPEO0%2FAk1urB7PJqaxG0zNhDo4XnvhjBszlNkoftYPRIn4JeL4ed0I%2FY03aLSLrEwhA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com","object":"478e7246-43ab-4cf4-b4f0-5e976419c6f4.zip"}}
[debug] [2025-10-21T23:07:14.826Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/478e7246-43ab-4cf4-b4f0-5e976419c6f4.zip GoogleAccessId=service-325768537013%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1761089834&Signature=EXg529INdnn9dkaWZgUDZicPA1jybIOl3l3AbZlQLUS%2Fla0locLCsmB%2Fq5OmeR5dcAlS06Y7rQulGBfd%2FDy6p8o1gz9QZ6yj88RI8jqtT%2FcffcEn0dszJeTBn33gIOQqxbXf7wdHXelhE%2F89TqQJUUWqNvK1iYytKULVhNXetszdPnjPYPK5Ll71iv2xHUG4l%2BZb8sEI%2BcWlNOHPnLjgrrLRtMDmcut%2FnOZKv7TDphK0baV575NSyX4MwlhNraz3%2F%2F%2FODnLOpc4cI6qMV3vRPEO0%2FAk1urB7PJqaxG0zNhDo4XnvhjBszlNkoftYPRIn4JeL4ed0I%2FY03aLSLrEwhA%3D%3D
[debug] [2025-10-21T23:07:14.826Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/478e7246-43ab-4cf4-b4f0-5e976419c6f4.zip [stream]
[debug] [2025-10-21T23:07:16.437Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/478e7246-43ab-4cf4-b4f0-5e976419c6f4.zip 200
[debug] [2025-10-21T23:07:16.437Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com/478e7246-43ab-4cf4-b4f0-5e976419c6f4.zip [omitted]
[info] ✔  functions: firebase-functions/functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function bananaAIGenerator_v2(us-central1)... 
[debug] [2025-10-21T23:07:16.440Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:16.440Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:16.440Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2 updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-10-21T23:07:16.440Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2 {"name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-uploads-325768537013.us-central1.cloudfunctions.appspot.com","object":"478e7246-43ab-4cf4-b4f0-5e976419c6f4.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":300,"serviceAccountEmail":null,"availableMemory":"1024Mi","minInstanceCount":null,"maxInstanceCount":10,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"}}
[debug] [2025-10-21T23:07:17.658Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2 200
[debug] [2025-10-21T23:07:17.658Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-10-21T23:07:17.659Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:17.659Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:17.659Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:07:18.064Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:07:18.065Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Node.js 18 will be decommissioned on 2025-10-30. As of 2025-10-30 you will no longer be able to deploy your Cloud Functions using nodejs18. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2025-10-21T23:07:18.565Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:07:18.565Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:18.565Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:18.565Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:07:18.998Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:07:18.998Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/d6b04bec-5943-4e91-9c43-4895ea3c1056?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056"},"done":false}
[debug] [2025-10-21T23:07:19.999Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:07:19.999Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:19.999Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:19.999Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:07:20.374Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:07:20.374Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/d6b04bec-5943-4e91-9c43-4895ea3c1056?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056"},"done":false}
[debug] [2025-10-21T23:07:22.374Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:07:22.374Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:22.374Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:22.374Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:07:22.773Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:07:22.773Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/d6b04bec-5943-4e91-9c43-4895ea3c1056?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056"},"done":false}
[debug] [2025-10-21T23:07:26.774Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:07:26.774Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:26.774Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:26.774Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:07:27.154Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:07:27.154Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/d6b04bec-5943-4e91-9c43-4895ea3c1056?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056"},"done":false}
[debug] [2025-10-21T23:07:35.154Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:07:35.154Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:35.154Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:35.154Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:07:36.300Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:07:36.300Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/d6b04bec-5943-4e91-9c43-4895ea3c1056?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056"},"done":false}
[debug] [2025-10-21T23:07:46.300Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:07:46.301Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:46.301Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:46.301Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:07:47.421Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:07:47.421Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/d6b04bec-5943-4e91-9c43-4895ea3c1056?project=325768537013"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056"},"done":false}
[debug] [2025-10-21T23:07:57.423Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:07:57.423Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:57.423Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:07:57.424Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:07:58.591Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:07:58.592Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/d6b04bec-5943-4e91-9c43-4895ea3c1056?project=325768537013"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/bananaaigenerator-v2?project=bananaeditor-927be","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8zMjU3Njg1MzcwMTMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9kNmIwNGJlYy01OTQzLTRlOTEtOWM0My00ODk1ZWEzYzEwNTYSgQF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9iYW5hbmFlZGl0b3ItOTI3YmUvZ2NmLWFydGlmYWN0cy9iYW5hbmFlZGl0b3ItLTkyN2JlX191cy0tY2VudHJhbDFfX2JhbmFuYV9hX2lfZ2VuZXJhdG9yX192Mjp2ZXJzaW9uXzEYtcfFyr0JIlBwcm9qZWN0cy9iYW5hbmFlZGl0b3ItOTI3YmUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9iYW5hbmFBSUdlbmVyYXRvcl92MioMCMqk4McGEIDWyrwBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056"},"done":false}
[debug] [2025-10-21T23:07:58.593Z] Got source token Cldwcm9qZWN0cy8zMjU3Njg1MzcwMTMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9kNmIwNGJlYy01OTQzLTRlOTEtOWM0My00ODk1ZWEzYzEwNTYSgQF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9iYW5hbmFlZGl0b3ItOTI3YmUvZ2NmLWFydGlmYWN0cy9iYW5hbmFlZGl0b3ItLTkyN2JlX191cy0tY2VudHJhbDFfX2JhbmFuYV9hX2lfZ2VuZXJhdG9yX192Mjp2ZXJzaW9uXzEYtcfFyr0JIlBwcm9qZWN0cy9iYW5hbmFlZGl0b3ItOTI3YmUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9iYW5hbmFBSUdlbmVyYXRvcl92MioMCMqk4McGEIDWyrwBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-10-21T23:08:08.594Z] [update-default-us-central1-bananaAIGenerator_v2] Retrying task index 0
[debug] [2025-10-21T23:08:08.594Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:08:08.594Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:08:08.595Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 [none]
[debug] [2025-10-21T23:08:09.817Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 200
[debug] [2025-10-21T23:08:09.817Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2 {"name":"projects/bananaeditor-927be/locations/us-central1/operations/operation-1761088036770-641b342d99167-4229a743-8f6ac0b2","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-10-21T23:07:17.583503177Z","endTime":"2025-10-21T23:08:02.362688610Z","target":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761087910378095"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00006-sef","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","labels":{"deployment-tool":"cloud-console","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/d6b04bec-5943-4e91-9c43-4895ea3c1056?project=325768537013"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"COMPLETE","resource":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/bananaaigenerator-v2?project=bananaeditor-927be","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]}],"sourceToken":"Cldwcm9qZWN0cy8zMjU3Njg1MzcwMTMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9kNmIwNGJlYy01OTQzLTRlOTEtOWM0My00ODk1ZWEzYzEwNTYSgQF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9iYW5hbmFlZGl0b3ItOTI3YmUvZ2NmLWFydGlmYWN0cy9iYW5hbmFlZGl0b3ItLTkyN2JlX191cy0tY2VudHJhbDFfX2JhbmFuYV9hX2lfZ2VuZXJhdG9yX192Mjp2ZXJzaW9uXzEYtcfFyr0JIlBwcm9qZWN0cy9iYW5hbmFlZGl0b3ItOTI3YmUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9iYW5hbmFBSUdlbmVyYXRvcl92MioMCMqk4McGEIDWyrwBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/bananaeditor-927be/locations/us-central1/functions/bananaAIGenerator_v2","buildConfig":{"build":"projects/325768537013/locations/us-central1/builds/d6b04bec-5943-4e91-9c43-4895ea3c1056","runtime":"nodejs18","entryPoint":"bananaAIGenerator_v2","source":{"storageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-325768537013-us-central1","object":"bananaAIGenerator_v2/function-source.zip","generation":"1761088037536920"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/bananaeditor-927be/serviceAccounts/325768537013-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/bananaeditor-927be/locations/us-central1/services/bananaaigenerator-v2","timeoutSeconds":300,"environmentVariables":{"GOOGLE_GENAI_USE_VERTEXAI":"True","GOOGLE_CLOUD_LOCATION":"global","VERTEX_AI_LOCATION":"us-west1","STORAGE_BUCKET_NAME":"bananaeditor-927be-ai-storage","ENCRYPTION_KEY":"7f5190ed0931e5b7e28c3625a4dacab0ec90e6be364bbd481b141a5528b775a1","ALLOWED_ORIGINS":"https://bananaeditor.net/,https://www.bananaeditor.net/,http://localhost:4321,http://localhost:3000,,http://localhost:30000/","SUPABASE_URL":"https://ngbfghotijgahynimlop.supabase.co","SUPABASE_SERVICE_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nYmZnaG90aWpnYWh5bmltbG9wIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDk0OTI2MywiZXhwIjoyMDc2NTI1MjYzfQ.WtkjjCGdLPBiJDmglNuDd_S2q5YTPZI0MYDXxeVA5T4","FIREBASE_CONFIG":"{\"projectId\":\"bananaeditor-927be\",\"storageBucket\":\"bananaeditor-927be.firebasestorage.app\"}","GCLOUD_PROJECT":"bananaeditor-927be","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bananaeditor-927be/locations/us-central1/services/bananaAIGenerator_v2","FUNCTION_TARGET":"bananaAIGenerator_v2","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app","serviceAccountEmail":"325768537013-compute@developer.gserviceaccount.com","availableMemory":"1024Mi","allTrafficOnLatestRevision":true,"revision":"bananaaigenerator-v2-00007-jac","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-10-21T23:07:17.585088167Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"09fccdf4ece84a8e6cf48cc42338b0dc51e8aa54"},"environment":"GEN_2","url":"https://us-central1-bananaeditor-927be.cloudfunctions.net/bananaAIGenerator_v2","createTime":"2025-10-20T15:17:42.362384648Z","satisfiesPzi":true}}
[debug] [2025-10-21T23:08:09.817Z] Got source token Cldwcm9qZWN0cy8zMjU3Njg1MzcwMTMvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9kNmIwNGJlYy01OTQzLTRlOTEtOWM0My00ODk1ZWEzYzEwNTYSgQF1cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9iYW5hbmFlZGl0b3ItOTI3YmUvZ2NmLWFydGlmYWN0cy9iYW5hbmFlZGl0b3ItLTkyN2JlX191cy0tY2VudHJhbDFfX2JhbmFuYV9hX2lfZ2VuZXJhdG9yX192Mjp2ZXJzaW9uXzEYtcfFyr0JIlBwcm9qZWN0cy9iYW5hbmFlZGl0b3ItOTI3YmUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9iYW5hbmFBSUdlbmVyYXRvcl92MioMCMqk4McGEIDWyrwBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[info] ✔  functions[bananaAIGenerator_v2(us-central1)] Successful update operation. 
[debug] [2025-10-21T23:08:09.819Z] Total Function Deployment time: 53383
[debug] [2025-10-21T23:08:09.819Z] 1 Functions Deployed
[debug] [2025-10-21T23:08:09.819Z] 0 Functions Errored
[debug] [2025-10-21T23:08:09.819Z] 0 Function Deployments Aborted
[debug] [2025-10-21T23:08:09.819Z] Average Function Deployment time: 53383
[debug] [2025-10-21T23:08:15.108Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] Function URL (bananaAIGenerator_v2(us-central1)): https://bananaaigenerator-v2-vs5qoxox3a-uc.a.run.app
[debug] [2025-10-21T23:08:15.109Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:08:15.109Z] Checked if tokens are valid: true, expires at: 1761090920782
[debug] [2025-10-21T23:08:15.109Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-10-21T23:08:16.313Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-10-21T23:08:16.313Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts {"name":"projects/bananaeditor-927be/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-28T15:47:31.262874Z","updateTime":"2025-10-21T23:07:41.033770Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"188652877","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-28T15:47:16.662580065Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/bananaeditor-927be/gcf-artifacts"}
[info] 
[info] ✔  Deploy complete! 
[info] 
[info] Project Console: https://console.firebase.google.com/project/bananaeditor-927be/overview
[debug] [2025-10-21T23:08:31.587Z] Error: Timed out.
    at Timeout._onTimeout (/Users/andy/.nvm/versions/node/v20.19.0/lib/node_modules/firebase-tools/lib/utils.js:272:49)
    at listOnTimeout (node:internal/timers:581:17)
    at process.processTimers (node:internal/timers:519:7)
[error] 
[error] Error: An unexpected error has occurred.
